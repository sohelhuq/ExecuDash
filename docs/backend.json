{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user in the system, storing their personal information and preferences.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "User's Firebase Auth UID (UserID)"
        },
        "name": {
          "type": "string"
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "userType": {
          "type": "string",
          "enum": [
            "Individual",
            "Business",
            "Admin"
          ],
          "description": "Type of the user account"
        },
        "subscriptionTier": {
          "type": "string",
          "enum": [
            "Free",
            "Basic",
            "Premium",
            "Enterprise"
          ]
        },
        "settings": {
          "type": "object",
          "description": "User-specific settings",
          "properties": {
            "currency": {
              "type": "string",
              "default": "BDT"
            },
            "language": {
              "type": "string",
              "default": "en"
            }
          }
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "email",
        "createdAt",
        "userType",
        "subscriptionTier"
      ]
    },
    "FinancialTransaction": {
      "title": "Financial Transaction",
      "description": "Represents a single financial transaction, such as an income or an expense.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Transaction ID (TxID)"
        },
        "userId": {
          "type": "string",
          "description": "UID of the user who owns the transaction"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "amount": {
          "type": "number"
        },
        "type": {
          "type": "string",
          "enum": [
            "income",
            "expense"
          ]
        },
        "category": {
          "type": "string",
          "description": "e.g., 'Salary', 'Rent', 'Groceries', 'Utilities'"
        },
        "source": {
          "type": "string",
          "description": "e.g., 'Bank Transfer', 'Credit Card', 'Cash'"
        },
        "description": {
          "type": "string"
        },
        "linkedDocument": {
          "type": "string",
          "format": "uri",
          "description": "Link to a related document like an invoice (Link)"
        }
      },
      "required": [
        "id",
        "userId",
        "date",
        "amount",
        "type",
        "category"
      ]
    },
    "TaxRecord": {
      "title": "Tax Record",
      "description": "Represents a tax-related record or document for a user.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Tax Record ID (TaxID)"
        },
        "userId": {
          "type": "string"
        },
        "year": {
          "type": "number"
        },
        "deductions": {
          "type": "number",
          "description": "Total deductions claimed for the year"
        },
        "status": {
          "type": "string",
          "enum": [
            "Not Filed",
            "Filed",
            "Pending",
            "Audit"
          ]
        },
        "filingDate": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "year",
        "status"
      ]
    },
    "Goal": {
      "title": "Goal",
      "description": "Represents a financial goal set by a user.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Goal ID"
        },
        "userId": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "targetAmount": {
          "type": "number"
        },
        "currentAmount": {
          "type": "number"
        },
        "duration": {
          "type": "string",
          "description": "Estimated duration to reach the goal, e.g., '6 months', '1 year'"
        },
        "status": {
          "type": "string",
          "enum": [
            "Active",
            "Completed",
            "Cancelled"
          ]
        },
        "category": {
          "type": "string",
          "enum": [
            "Savings",
            "Investment",
            "Debt Repayment"
          ]
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "targetAmount",
        "currentAmount",
        "status"
      ]
    },
    "ComplianceLog": {
      "title": "Compliance Log",
      "description": "Records an audit trail of significant actions and approvals.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Log ID"
        },
        "entityType": {
          "type": "string",
          "description": "The type of entity being acted upon (e.g., 'TaxRecord', 'Withdrawal')"
        },
        "entityId": {
          "type": "string",
          "description": "The ID of the entity"
        },
        "action": {
          "type": "string",
          "description": "The action performed (e.g., 'Created', 'Approved', 'Rejected')"
        },
        "actorUserId": {
          "type": "string",
          "description": "The ID of the user who performed the action"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "details": {
          "type": "string",
          "description": "Additional details about the action"
        }
      },
      "required": [
        "id",
        "entityType",
        "entityId",
        "action",
        "actorUserId",
        "timestamp"
      ]
    },
    "Notification": {
      "title": "Notification",
      "description": "Represents an alert or message sent to a user.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Notification ID"
        },
        "userId": {
          "type": "string"
        },
        "message": {
          "type": "string"
        },
        "readStatus": {
          "type": "boolean",
          "default": false
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "type": {
          "type": "string",
          "enum": [
            "Info",
            "Warning",
            "Success",
            "Error"
          ]
        }
      },
      "required": [
        "id",
        "userId",
        "message",
        "readStatus",
        "createdAt"
      ]
    },
    "CcAccount": {
      "title": "CC (Loan) Account",
      "description": "Represents a Cash Credit (Loan) account for a user.",
      "type": "object",
      "properties": {
        "bank": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "no": {
          "type": "string"
        },
        "interest": {
          "type": "number"
        },
        "opening": {
          "type": "number"
        },
        "cr": {
          "type": "number"
        },
        "dr": {
          "type": "number"
        }
      },
      "required": [
        "bank",
        "name",
        "no",
        "opening",
        "cr",
        "dr"
      ]
    },
    "SavingsAccount": {
      "title": "Savings Account",
      "description": "Represents a savings bank account for a user.",
      "type": "object",
      "properties": {
        "bank": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "no": {
          "type": "string"
        },
        "opening": {
          "type": "number"
        },
        "cr": {
          "type": "number"
        },
        "dr": {
          "type": "number"
        }
      },
      "required": [
        "bank",
        "name",
        "no",
        "opening",
        "cr",
        "dr"
      ]
    },
    "AssignedAccount": {
      "title": "Assigned Due Account",
      "description": "Represents a customer account assigned for due collection.",
      "type": "object",
      "properties": {
        "unit": {
          "type": "string",
          "description": "Business Unit"
        },
        "customer": {
          "type": "string"
        },
        "invoice": {
          "type": "string"
        },
        "dueDate": {
          "type": "string",
          "format": "date"
        },
        "amountDue": {
          "type": "number"
        },
        "status": {
          "type": "string",
          "enum": [
            "Pending",
            "Overdue",
            "Paid"
          ]
        }
      },
      "required": [
        "unit",
        "customer",
        "invoice",
        "dueDate",
        "amountDue",
        "status"
      ]
    },
    "JobResponsibility": {
      "title": "Job Responsibility",
      "description": "A task or responsibility for a collections officer.",
      "type": "object",
      "properties": {
        "text": {
          "type": "string"
        },
        "completed": {
          "type": "boolean",
          "default": false
        }
      },
      "required": [
        "text",
        "completed"
      ]
    },
    "BusinessUnit": {
      "title": "Business Unit",
      "description": "Represents a business unit, e.g., a specific fuel station.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "location": {
          "type": "string"
        },
        "managerId": {
          "type": "string"
        }
      },
      "required": ["name", "location"]
    },
    "MeterReading": {
      "title": "Meter Reading",
      "description": "Represents a meter or dip reading for a specific product.",
      "type": "object",
      "properties": {
        "productId": { "type": "string" },
        "productName": { "type": "string" },
        "readingType": { "type": "string", "enum": ["nozzle", "dip"] },
        "readingValue": { "type": "number" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["productId", "productName", "readingType", "readingValue", "timestamp"]
    },
    "StockItem": {
      "title": "Stock Item",
      "description": "Represents the stock level of a product.",
      "type": "object",
      "properties": {
        "productName": { "type": "string" },
        "openingStock": { "type": "number" },
        "purchase": { "type": "number" },
        "sales": { "type": "number" }
      },
      "required": ["productName", "openingStock", "purchase", "sales"]
    },
    "DpsAccount": {
      "title": "DPS Account",
      "description": "Represents a Deposit Pension Scheme account.",
      "type": "object",
      "properties": {
        "bank": { "type": "string" },
        "maturityDate": { "type": "string", "format": "date-time" },
        "dpsBalance": { "type": "number" }
      },
      "required": ["bank", "maturityDate", "dpsBalance"]
    },
    "FdrAccount": {
      "title": "FDR Account",
      "description": "Represents a Fixed Deposit Receipt account.",
      "type": "object",
      "properties": {
        "bank": { "type": "string" },
        "category": { "type": "string" },
        "amount": { "type": "number" }
      },
      "required": ["bank", "category", "amount"]
    },
    "Employee": {
      "title": "Employee",
      "description": "Represents an employee in the company.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "department": {
          "type": "string"
        },
        "jobRole": {
          "type": "string"
        },
        "salary": {
          "type": "number"
        }
      },
      "required": [
        "name",
        "department",
        "jobRole",
        "salary"
      ]
    },
    "RentalEntry": {
      "title": "Rental Entry",
      "description": "Represents a single rental income/expense entry for a property.",
      "type": "object",
      "properties": {
        "category": {
          "type": "string",
          "enum": ["shetue_vanga_dokan", "jaman_tower", "others"]
        },
        "location": { "type": "string" },
        "tenant": { "type": "string" },
        "opening": { "type": "number" },
        "rent": { "type": "number" },
        "collection": { "type": "number" },
        "expense": { "type": "number" }
      },
      "required": ["category", "location", "tenant", "rent", "collection", "expense"]
    },
    "AttendancePoint": {
      "title": "Attendance Point",
      "description": "Represents points awarded for an employee's attendance.",
      "type": "object",
      "properties": {
        "employeeId": { "type": "string" },
        "employeeName": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "inTime": { "type": "string", "format": "time" },
        "points": { "type": "number" }
      },
      "required": ["employeeId", "employeeName", "date", "inTime", "points"]
    },
     "PharmacyProduct": {
      "title": "Pharmacy Product",
      "description": "Represents a product in the pharmacy inventory.",
      "type": "object",
      "properties": {
        "name": { "type": "string" },
        "price": { "type": "number" },
        "stock": { "type": "number" },
        "category": { "type": "string" }
      },
      "required": ["name", "price", "stock", "category"]
    },
    "SalesTransaction": {
      "title": "Sales Transaction",
      "description": "Represents a single sales transaction at the pharmacy POS.",
      "type": "object",
      "properties": {
        "items": { 
          "type": "array",
          "items": { 
            "type": "object",
            "properties": {
              "productId": { "type": "string" },
              "quantity": { "type": "number" }
            },
            "required": ["productId", "quantity"]
          }
        },
        "totalAmount": { "type": "number" },
        "paymentMethod": { "type": "string", "enum": ["Cash", "Card", "Mobile"] },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["items", "totalAmount", "paymentMethod", "timestamp"]
    },
    "AccountSummary": {
      "title": "Account Summary",
      "description": "Represents a KPI card on the accounting dashboard.",
      "type": "object",
      "properties": {
        "title": { "type": "string" },
        "value": { "type": "number" },
        "color": { "type": "string", "description": "Tailwind CSS color class" },
        "filtered": { "type": "boolean" }
      },
      "required": ["title", "value", "color", "filtered"]
    },
    "Customer": {
      "title": "Customer",
      "description": "Represents a business customer.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "address": {
          "type": "string"
        }
      },
      "required": [
        "name",
        "phone",
        "address"
      ]
    },
    "Service": {
      "title": "Service",
      "description": "Represents a service offered by the business.",
      "type": "object",
      "properties": {
        "description": { "type": "string" },
        "price": { "type": "number" },
        "slaDays": { "type": "number", "description": "Service Level Agreement in days" },
        "assignedTo": { "type": "string" }
      },
      "required": ["description", "price", "slaDays"]
    },
    "ServiceTicket": {
      "title": "Service Ticket",
      "description": "Represents a customer's request for a service.",
      "type": "object",
      "properties": {
        "customerId": { "type": "string" },
        "serviceId": { "type": "string" },
        "status": { "type": "string", "enum": ["Open", "In Progress", "Closed", "Cancelled"]},
        "createdAt": { "type": "string", "format": "date-time" },
        "closedAt": { "type": "string", "format": "date-time" }
      },
      "required": ["customerId", "serviceId", "status", "createdAt"]
    },
    "Supplier": {
      "title": "Supplier",
      "description": "Represents a product or service supplier.",
      "type": "object",
      "properties": {
        "name": { "type": "string" },
        "contact": { "type": "string" },
        "address": { "type": "string" }
      },
      "required": ["name", "contact"]
    },
    "Tax": {
      "title": "Tax",
      "description": "Represents a tax rate and type for financial calculations.",
      "type": "object",
      "properties": {
        "title": { "type": "string" },
        "type": { "type": "string" },
        "rate": { "type": "number" }
      },
      "required": ["title", "type", "rate"]
    },
    "Report": {
      "title": "Report",
      "description": "Represents a generated report.",
      "type": "object",
      "properties": {
        "title": { "type": "string" },
        "module": { "type": "string" },
        "date": { "type": "string", "format": "date-time" }
      },
      "required": ["title", "module", "date"]
    },
    "File": {
      "title": "File",
      "description": "Represents an uploaded file in Firebase Storage.",
      "type": "object",
      "properties": {
        "name": { "type": "string", "description": "The name of the file." },
        "url": { "type": "string", "format": "uri", "description": "The download URL of the file." },
        "size": { "type": "number", "description": "The size of the file in bytes." },
        "type": { "type": "string", "description": "The MIME type of the file." },
        "createdAt": { "type": "string", "format": "date-time", "description": "The timestamp when the file was uploaded." }
      },
      "required": ["name", "url", "size", "type", "createdAt"]
    },
    "BusinessDocument": {
      "title": "Business Document",
      "description": "Represents a business-critical document like a license or compliance file.",
      "type": "object",
      "properties": {
        "unit": { "type": "string", "description": "The business unit this document belongs to (e.g., Pharmacy, CNG)." },
        "docType": { "type": "string", "description": "The type of document (e.g., Trade Licence, TIN)." },
        "issueDate": { "type": "string", "format": "date-time" },
        "expiryDate": { "type": "string", "format": "date-time" },
        "issuer": { "type": "string", "description": "The authority that issued the document." },
        "fileUrl": { "type": "string", "format": "uri" },
        "fileName": { "type": "string" },
        "reminderDate": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["Valid", "Expired", "Renewal Due"] },
        "notes": { "type": "string" },
        "uploadedBy": { "type": "string", "description": "UID of the user who uploaded the document." }
      },
      "required": ["unit", "docType", "issueDate", "expiryDate", "fileUrl", "fileName", "status", "uploadedBy"]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "UserProfile",
          "schema": {
            "$ref": "#/entities/UserProfile"
          }
        }
      },
      {
        "path": "/users/{userId}/transactions/{transactionId}",
        "definition": {
          "entityName": "FinancialTransaction",
          "schema": {
            "$ref": "#/entities/FinancialTransaction"
          }
        }
      },
      {
        "path": "/users/{userId}/taxRecords/{recordId}",
        "definition": {
          "entityName": "TaxRecord",
          "schema": {
            "$ref": "#/entities/TaxRecord"
          }
        }
      },
      {
        "path": "/users/{userId}/goals/{goalId}",
        "definition": {
          "entityName": "Goal",
          "schema": {
            "$ref": "#/entities/Goal"
          }
        }
      },
      {
        "path": "/complianceLogs/{logId}",
        "definition": {
          "entityName": "ComplianceLog",
          "schema": {
            "$ref": "#/entities/ComplianceLog"
          }
        }
      },
      {
        "path": "/users/{userId}/notifications/{notificationId}",
        "definition": {
          "entityName": "Notification",
          "schema": {
            "$ref": "#/entities/Notification"
          }
        }
      },
      {
        "path": "/users/{userId}/ccAccounts/{accountId}",
        "definition": {
          "entityName": "CcAccount",
          "schema": {
            "$ref": "#/entities/CcAccount"
          }
        }
      },
      {
        "path": "/users/{userId}/savingsAccounts/{accountId}",
        "definition": {
          "entityName": "SavingsAccount",
          "schema": {
            "$ref": "#/entities/SavingsAccount"
          }
        }
      },
      {
        "path": "/users/{userId}/assignedAccounts/{accountId}",
        "definition": {
          "entityName": "AssignedAccount",
          "schema": {
            "$ref": "#/entities/AssignedAccount"
          }
        }
      },
      {
        "path": "/users/{userId}/jobResponsibilities/{responsibilityId}",
        "definition": {
          "entityName": "JobResponsibility",
          "schema": {
            "$ref": "#/entities/JobResponsibility"
          }
        }
      },
      {
        "path": "/users/{userId}/dps/{dpsId}",
        "definition": {
          "entityName": "DpsAccount",
          "schema": { "$ref": "#/entities/DpsAccount" }
        }
      },
      {
        "path": "/users/{userId}/fdr/{fdrId}",
        "definition": {
          "entityName": "FdrAccount",
          "schema": { "$ref": "#/entities/FdrAccount" }
        }
      },
      {
        "path": "/users/{userId}/businessUnits/{unitId}",
        "definition": {
          "entityName": "BusinessUnit",
          "schema": { "$ref": "#/entities/BusinessUnit" }
        }
      },
      {
        "path": "/users/{userId}/businessUnits/{unitId}/meterReadings/{readingId}",
        "definition": {
          "entityName": "MeterReading",
          "schema": { "$ref": "#/entities/MeterReading" }
        }
      },
      {
        "path": "/users/{userId}/businessUnits/{unitId}/stockItems/{stockItemId}",
        "definition": {
          "entityName": "StockItem",
          "schema": { "$ref": "#/entities/StockItem" }
        }
      },
       {
        "path": "/users/{userId}/businessUnits/{unitId}/transactions/{transactionId}",
        "definition": {
          "entityName": "FinancialTransaction",
          "schema": {
            "$ref": "#/entities/FinancialTransaction"
          }
        }
      },
      {
        "path": "/users/{userId}/employees/{employeeId}",
        "definition": {
          "entityName": "Employee",
          "schema": {
            "$ref": "#/entities/Employee"
          }
        }
      },
      {
        "path": "/users/{userId}/rentalEntries/{entryId}",
        "definition": {
          "entityName": "RentalEntry",
          "schema": {
            "$ref": "#/entities/RentalEntry"
          }
        }
      },
      {
        "path": "/users/{userId}/attendance_points/{pointId}",
        "definition": {
          "entityName": "AttendancePoint",
          "schema": { "$ref": "#/entities/AttendancePoint" }
        }
      },
      {
        "path": "/users/{userId}/pharmacy/products/{productId}",
        "definition": {
          "entityName": "PharmacyProduct",
          "schema": { "$ref": "#/entities/PharmacyProduct" }
        }
      },
      {
        "path": "/users/{userId}/pharmacy/sales/{saleId}",
        "definition": {
          "entityName": "SalesTransaction",
          "schema": { "$ref": "#/entities/SalesTransaction" }
        }
      },
      {
        "path": "/users/{userId}/accountSummaries/{summaryId}",
        "definition": {
          "entityName": "AccountSummary",
          "schema": { "$ref": "#/entities/AccountSummary" }
        }
      },
      {
        "path": "/users/{userId}/customers/{customerId}",
        "definition": {
          "entityName": "Customer",
          "schema": {
            "$ref": "#/entities/Customer"
          }
        }
      },
      {
        "path": "/users/{userId}/services/{serviceId}",
        "definition": {
          "entityName": "Service",
          "schema": { "$ref": "#/entities/Service" }
        }
      },
      {
        "path": "/users/{userId}/serviceTickets/{ticketId}",
        "definition": {
          "entityName": "ServiceTicket",
          "schema": { "$ref": "#/entities/ServiceTicket" }
        }
      },
      {
        "path": "/users/{userId}/suppliers/{supplierId}",
        "definition": {
          "entityName": "Supplier",
          "schema": { "$ref": "#/entities/Supplier" }
        }
      },
      {
        "path": "/users/{userId}/taxes/{taxId}",
        "definition": {
          "entityName": "Tax",
          "schema": { "$ref": "#/entities/Tax" }
        }
      },
      {
        "path": "/users/{userId}/reports/{reportId}",
        "definition": {
          "entityName": "Report",
          "schema": { "$ref": "#/entities/Report" }
        }
      },
      {
        "path": "/users/{userId}/files/{fileId}",
        "definition": {
          "entityName": "File",
          "schema": { "$ref": "#/entities/File" }
        }
      },
      {
        "path": "/users/{userId}/businessDocuments/{docId}",
        "definition": {
          "entityName": "BusinessDocument",
          "schema": { "$ref": "#/entities/BusinessDocument" }
        }
      }
    ]
  }
}
