{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user in the system, storing their personal information and preferences.",
      "type": "object",
      "properties": {
        "id": { "type": "string", "description": "User's Firebase Auth UID" },
        "name": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "createdAt": { "type": "string", "format": "date-time" },
        "subscriptionTier": { "type": "string", "enum": ["Free", "Basic", "Premium", "Enterprise"] },
        "currency": { "type": "string", "default": "BDT" }
      },
      "required": ["id", "email", "createdAt", "subscriptionTier"]
    },
    "FinancialTransaction": {
      "title": "Financial Transaction",
      "description": "Represents a single financial transaction, such as income or an expense.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string", "description": "UID of the user who owns the transaction" },
        "description": { "type": "string" },
        "amount": { "type": "number" },
        "type": { "type": "string", "enum": ["income", "expense"] },
        "category": { "type": "string", "description": "e.g., 'Salary', 'Rent', 'Groceries', 'Utilities'" },
        "date": { "type": "string", "format": "date-time" },
        "source": { "type": "string", "description": "e.g., 'Bank Transfer', 'Credit Card', 'Cash'" }
      },
      "required": ["id", "userId", "description", "amount", "type", "category", "date"]
    },
    "TaxRecord": {
      "title": "Tax Record",
      "description": "Represents a tax-related record or document for a user.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "year": { "type": "number" },
        "recordType": { "type": "string", "description": "e.g., 'Tax Return', 'Compliance Report', 'Deduction Receipt'" },
        "description": { "type": "string" },
        "amount": { "type": "number" },
        "status": { "type": "string", "enum": ["Filed", "Pending", "Audit"] },
        "date": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "userId", "year", "recordType", "status", "date"]
    },
    "Goal": {
      "title": "Goal",
      "description": "Represents a financial goal set by a user.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "name": { "type": "string" },
        "targetAmount": { "type": "number" },
        "currentAmount": { "type": "number" },
        "targetDate": { "type": "string", "format": "date" },
        "category": { "type": "string", "enum": ["Savings", "Investment", "Debt Repayment"] }
      },
      "required": ["id", "userId", "name", "targetAmount", "currentAmount"]
    }
  },
  "auth": {
    "providers": ["password"]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "UserProfile",
          "schema": { "$ref": "#/entities/UserProfile" }
        }
      },
      {
        "path": "/users/{userId}/transactions/{transactionId}",
        "definition": {
          "entityName": "FinancialTransaction",
          "schema": { "$ref": "#/entities/FinancialTransaction" }
        }
      },
      {
        "path": "/users/{userId}/taxRecords/{recordId}",
        "definition": {
          "entityName": "TaxRecord",
          "schema": { "$ref": "#/entities/TaxRecord" }
        }
      },
      {
        "path": "/users/{userId}/goals/{goalId}",
        "definition": {
          "entityName": "Goal",
          "schema": { "$ref": "#/entities/Goal" }
        }
      }
    ]
  }
}
