/**
 * @description This ruleset enforces a strict read-only model for the 'employees' collection,
 *              and allows public read access to the 'attendance_points' collection.
 *              All write operations are denied for both collections in this prototype.
 * @dataStructure
 *  - /attendance_points/{pointId}: Stores attendance points for employees. Publicly readable.
 *  - /employees/{employeeId}: Stores employee records. Publicly readable.
 * @keySecurityDecisions
 *  - The 'employees' collection is read-only (get, list) for all users, including unauthenticated users.
 *  - The 'attendance_points' collection is publicly readable (get, list) for all users, including unauthenticated users.
 *  - Write operations (create, update, delete) are denied for both collections.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read employee records. No write access.
     * @path /employees/{employeeId}
     * @allow (get, list) Anyone can read employee data.
     * @deny (create, update, delete) No one can create, update, or delete employee data.
     * @principle Allows public read access to employee records, but restricts all write operations.
     */
    match /employees/{employeeId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read attendance points. No write access.
     * @path /attendance_points/{pointId}
     * @allow (get, list) Anyone can read attendance point data.
     * @deny (create, update, delete) No one can create, update, or delete attendance point data.
     * @principle Allows public read access to attendance point records, but restricts all write operations.
     */
    match /attendance_points/{pointId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }
  }
}